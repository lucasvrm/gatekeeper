{
  "schemaVersion": "1.0.0",
  "slug": "user-profile-ui",
  "title": "User Profile Page UI",
  "mode": "CREATIVE",
  "scope": "external",
  "changeType": "new",
  "criticality": "medium",
  "targetArtifacts": [
    "src/pages/ProfilePage.tsx",
    "src/components/ProfileForm.tsx"
  ],
  "owners": ["@frontend-team"],
  "createdAt": "2026-01-18T11:00:00Z",
  "clauses": [
    {
      "id": "CL-UI-001",
      "kind": "ui",
      "normativity": "MUST",
      "title": "Profile form displays user data",
      "spec": "When the user navigates to /profile, then the form fields are pre-filled with the user's current name, email, and bio.",
      "when": [
        "User is authenticated",
        "User data exists in database"
      ],
      "outputs": {
        "nameField": "string (user's name)",
        "emailField": "string (user's email)",
        "bioField": "string (user's bio)"
      },
      "observables": ["ui"],
      "tags": ["ui", "profile", "rendering"]
    },
    {
      "id": "CL-UI-002",
      "kind": "error",
      "normativity": "MUST",
      "title": "Form validation errors are displayed",
      "spec": "When the user submits the profile form with invalid data, then validation errors are displayed next to the invalid fields.",
      "inputs": {
        "name": "string (empty or too long)",
        "email": "string (invalid format)"
      },
      "observables": ["ui"],
      "negativeCases": [
        "Empty name shows 'Name is required'",
        "Invalid email shows 'Invalid email format'",
        "Name > 100 chars shows 'Name too long'"
      ],
      "tags": ["ui", "validation", "error-handling"]
    },
    {
      "id": "CL-UI-003",
      "kind": "behavior",
      "normativity": "SHOULD",
      "title": "Success message appears after save",
      "spec": "When the user successfully saves profile changes, then a success message appears for 3 seconds.",
      "observables": ["ui"],
      "tags": ["ui", "feedback", "ux"]
    }
  ],
  "assertionSurface": {
    "ui": {
      "routes": ["/profile"],
      "selectors": {
        "nameInput": "[data-testid='profile-name']",
        "emailInput": "[data-testid='profile-email']",
        "bioTextarea": "[data-testid='profile-bio']",
        "saveButton": "[data-testid='profile-save']",
        "errorMessage": "[role='alert']",
        "successMessage": "[data-testid='success-toast']"
      }
    }
  },
  "testMapping": {
    "format": "comment_tags",
    "allowMultiple": true,
    "allowUntagged": true,
    "untaggedAllowlist": ["beforeEach", "afterEach"]
  }
}
